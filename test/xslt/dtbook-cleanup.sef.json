{"N":"package","version":"20","packageVersion":"1","saxonVersion":"SaxonJS 2.4","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2022-09-12T14:53:09.758+02:00","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","defaultElementNS":"http://www.daisy.org/z3986/2005/dtbook/","C":[{"N":"co","binds":"","id":"0","vis":"PRIVATE","ex:uniform":"true","C":[{"N":"function","name":"Q{#}lang","as":"1AS ","slots":"201","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","module":"dtbook-cleanup.xsl","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","flags":"muu","sig":"1F r[1AS ] a[1AS ] ","sType":"1F r[1AS ] a[1AS ] ","line":"156","C":[{"N":"arg","slot":"0","name":"Q{}lang","as":"AS ","sType":"AS "},{"N":"treat","as":"AS ","diag":"2|0|XTTE0780|function Q{#}lang()","role":"body","C":[{"N":"check","card":"1","diag":"2|0|XTTE0780|function Q{#}lang()","role":"body","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0780|function Q{#}lang()","role":"body","C":[{"N":"data","sType":"*A ","role":"body","C":[{"N":"valueOf","flags":"l","sType":"1NT ","role":"body","line":"158","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","sType":"?AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"158","C":[{"N":"fn","name":"tokenize","C":[{"N":"treat","as":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"data","diag":"0|0||tokenize","C":[{"N":"varRef","name":"Q{}lang","slot":"0"}]}]}]}]}]},{"N":"str","val":"-"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]}]}]},{"N":"co","id":"1","binds":"1 0","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"11","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"145","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"@xml:lang[not(parent::dtbook) and . = /*/tokenize(lower-case(string(@xml:lang)),'-')[last()]]","prio":"2","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}lang","C":[{"N":"p.genPos","role":"match","test":"*NA nQ{http://www.w3.org/XML/1998/namespace}lang","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}lang","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"and","C":[{"N":"fn","name":"not","C":[{"N":"axis","name":"parent","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}dtbook"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE"}]},{"N":"lastOf","C":[{"N":"fn","name":"tokenize","C":[{"N":"fn","name":"lower-case","C":[{"N":"fn","name":"string","C":[{"N":"check","card":"?","diag":"0|0||string","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{http://www.w3.org/XML/1998/namespace}lang"}]}]}]},{"N":"str","val":"-"}]}]}]}]}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"1","prec":"0","seq":"10","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"141","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"a[exists(ancestor::list) and exists(ancestor::*[tokenize(@class,'\\s+') = 'toc'])]","prio":"0.5","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}a","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}a","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}a"},{"N":"and","C":[{"N":"fn","name":"exists","C":[{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}list"}]}]},{"N":"fn","name":"exists","C":[{"N":"fn","name":"reverse","C":[{"N":"filter","C":[{"N":"axis","name":"ancestor","nodeTest":"*NE"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"attVal","name":"Q{}class"}]}]},{"N":"str","val":"\\s+"}]},{"N":"str","val":"toc"}]}]}]}]}]}]},{"N":"applyT","sType":"* ","line":"142","mode":"#unnamed","role":"action","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"142"}]}]},{"N":"templateRule","rank":"2","prec":"0","seq":"8","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"88","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"p[tokenize(@class,'\\s+') = 'docauthor']","prio":"0.5","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}p","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}p","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}p"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"attVal","name":"Q{}class"}]}]},{"N":"str","val":"\\s+"}]},{"N":"str","val":"docauthor"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"3","prec":"0","seq":"7","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"86","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"h1[tokenize(@class, '\\s+') = 'fulltitle']","prio":"0.5","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"attVal","name":"Q{}class"}]}]},{"N":"str","val":"\\s+"}]},{"N":"str","val":"fulltitle"}]}]},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"4","prec":"0","seq":"6","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"82","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"meta[lower-case(@name)='dc:language']","prio":"0.5","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"compareToString","op":"eq","val":"dc:language","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","C":[{"N":"fn","name":"lower-case","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||lower-case","C":[{"N":"check","card":"?","diag":"0|0||lower-case","C":[{"N":"attVal","name":"Q{}name"}]}]}]}]}]},{"N":"elem","name":"meta","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta ","nsuri":"http://www.daisy.org/z3986/2005/dtbook/","namespaces":"","role":"action","line":"83","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"name","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dc:Language"}]},{"N":"att","name":"content","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1AS","C":[{"N":"ufCall","name":"Q{#}lang","coId":"0","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"83","bSlot":"1","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||f:lang","C":[{"N":"check","card":"1","diag":"0|0||f:lang","C":[{"N":"attVal","name":"Q{}content"}]}]}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]},{"N":"templateRule","rank":"5","prec":"0","seq":"3","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"41","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"meta[starts-with(lower-case(@name), 'dc:') and not(matches(lower-case(@name), '^dc:(title|subject|description|type|source|relation|coverage|creator|publisher|contributor|rights|date|format|identifier|language)$'))]","prio":"0.5","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"and","C":[{"N":"fn","name":"starts-with","C":[{"N":"fn","name":"lower-case","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||lower-case","C":[{"N":"check","card":"?","diag":"0|0||lower-case","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"str","val":"dc:"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"fn","name":"not","C":[{"N":"fn","name":"matches","C":[{"N":"fn","name":"lower-case","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||lower-case","C":[{"N":"check","card":"?","diag":"0|0||lower-case","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"str","val":"^dc:(title|subject|description|type|source|relation|coverage|creator|publisher|contributor|rights|date|format|identifier|language)$"}]}]}]}]},{"N":"comment","sType":"1NC ","role":"action","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"sequence","sType":"*NT ","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" not allowed in DTBook: "}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"<meta"}]},{"N":"forEach","sType":"*NT ","line":"45","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"45"},{"N":"valueOf","flags":"l","sType":"1NT ","line":"46","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"46","C":[{"N":"str","val":" "},{"N":"fn","name":"name","C":[{"N":"dot"}]},{"N":"str","val":"=\""},{"N":"atomSing","diag":"0|3||concat","card":"?","C":[{"N":"dot"}]},{"N":"str","val":"\""}]},{"N":"str","sType":"1AS ","val":" "}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"/> "}]}]}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]},{"N":"templateRule","rank":"6","prec":"0","seq":"2","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"27","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"meta[starts-with(@name,'nlb')]","prio":"0.5","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta","C":[{"N":"p.withPredicate","role":"match","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"p.nodeTest","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"fn","name":"starts-with","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||starts-with","C":[{"N":"check","card":"?","diag":"0|0||starts-with","C":[{"N":"attVal","name":"Q{}name"}]}]},{"N":"str","val":"nlb"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]},{"N":"let","var":"Q{}name","slot":"0","sType":"*NE ","line":"28","role":"action","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}name\"","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}name\"","C":[{"N":"data","sType":"*A ","C":[{"N":"sequence","sType":"*NT ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"29","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"first","sType":"?AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"29","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"attVal","name":"Q{}name"}]}]},{"N":"str","val":"\\."}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"forEach","sType":"*NT ","line":"30","C":[{"N":"filter","flags":"p","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"30","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"attVal","name":"Q{}name"}]}]},{"N":"str","val":"\\."}]},{"N":"compareToInt","op":"gt","val":"1","C":[{"N":"fn","name":"position"}]}]},{"N":"sequence","sType":"*NT ","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"31","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"upper-case","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"31","C":[{"N":"fn","name":"substring","C":[{"N":"dot"},{"N":"convert","to":"AO","flags":"","C":[{"N":"int","val":"1"}]},{"N":"convert","to":"AO","flags":"","C":[{"N":"int","val":"1"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"32","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"substring","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"32","C":[{"N":"dot"},{"N":"convert","to":"AO","flags":"","C":[{"N":"int","val":"2"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]}]}]},{"N":"copy","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta ","flags":"cin","line":"35","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"36","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"36"}]},{"N":"att","name":"name","sType":"1NA ","line":"37","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"37","C":[{"N":"data","diag":"0|0||string-join","C":[{"N":"varRef","name":"Q{}name","slot":"0"}]},{"N":"str","val":""}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]},{"N":"templateRule","rank":"7","prec":"0","seq":"13","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"152","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"@alt","prio":"0","matches":"NA nQ{}alt","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}alt","sType":"1NA nQ{}alt","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "},{"N":"att","name":"alt","sType":"1NA ","role":"action","line":"153","C":[{"N":"str","role":"select","val":"","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"153"}]}]},{"N":"templateRule","rank":"8","prec":"0","seq":"12","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"147","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"@xml:lang","prio":"0","matches":"NA nQ{http://www.w3.org/XML/1998/namespace}lang","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{http://www.w3.org/XML/1998/namespace}lang","sType":"1NA nQ{http://www.w3.org/XML/1998/namespace}lang","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "},{"N":"att","name":"xml:lang","sType":"1NA ","nsuri":"http://www.w3.org/XML/1998/namespace","role":"action","line":"148","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"ufCall","name":"Q{#}lang","coId":"0","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"148","bSlot":"1","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||f:lang","C":[{"N":"atomSing","diag":"0|0||f:lang","C":[{"N":"dot"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]},{"N":"templateRule","rank":"9","prec":"0","seq":"9","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"91","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"level1","prio":"0","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}level1","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}level1","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}level1","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "},{"N":"let","var":"Q{}result","slot":"0","sType":"* ","line":"92","role":"action","C":[{"N":"check","card":"1","sType":"1NE ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}result\"","C":[{"N":"treat","as":"NE ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}result\"","C":[{"N":"check","card":"1","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}result\"","C":[{"N":"nextMatch","sType":"* ","line":"93"}]}]}]},{"N":"forEach","sType":"* ","line":"96","C":[{"N":"varRef","name":"Q{}result","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"96"},{"N":"choose","sType":"? ","type":"item()*","line":"97","C":[{"N":"fn","name":"exists","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"98","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"axis","name":"following-sibling","nodeTest":"*NE"}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"100","sType":"1","C":[{"N":"dot","sType":"1","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"100"}]},{"N":"fn","name":"exists","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"103","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE"}]}]}]}]},{"N":"copy","sType":"1 ","flags":"cin","line":"105","C":[{"N":"sequence","sType":"*N ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"106","sType":"*NA","C":[{"N":"docOrder","sType":"*NA","role":"select","line":"106","C":[{"N":"slash","role":"select","simple":"1","sType":"*NA","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"107","sType":"*N","C":[{"N":"docOrder","sType":"*N","role":"select","line":"107","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE"}]}]}]},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*N"}]}]}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"108","sType":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1","C":[{"N":"docOrder","sType":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1","role":"select","line":"108","C":[{"N":"slash","role":"select","simple":"1","sType":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1","sType":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"109","sType":"*N","C":[{"N":"docOrder","sType":"*N","role":"select","line":"109","C":[{"N":"intersect","op":"intersect","sType":"*N","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*N"}]}]}]},{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE"}]}]}]},{"N":"axis","name":"following-sibling","nodeTest":"*N"}]}]}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"110","sType":"*NE","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"110","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"fn","name":"reverse","C":[{"N":"first","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*NE"}]}]}]}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"111","sType":"*N","C":[{"N":"docOrder","sType":"*N","role":"select","line":"111","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"axis","name":"following-sibling","nodeTest":"*N"}]}]}]}]}]}]},{"N":"fn","name":"exists","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"115","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"}]},{"N":"copy","sType":"1 ","flags":"cin","line":"117","C":[{"N":"sequence","sType":"*N ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"118","sType":"*NA","C":[{"N":"docOrder","sType":"*NA","role":"select","line":"118","C":[{"N":"slash","role":"select","simple":"1","sType":"*NA","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"119","sType":"*N","C":[{"N":"docOrder","sType":"*N","role":"select","line":"119","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"preceding-sibling","nodeTest":"*N"}]}]}]}]}]},{"N":"elem","name":"p","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}p ","nsuri":"http://www.daisy.org/z3986/2005/dtbook/","namespaces":"","line":"120","C":[{"N":"sequence","sType":"*N ","C":[{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"121","sType":"*NA","C":[{"N":"docOrder","sType":"*NA","role":"select","line":"121","C":[{"N":"slash","role":"select","simple":"1","sType":"*NA","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"slash","op":"/","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"axis","name":"attribute","nodeTest":"*NA"}]}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"122","sType":"*N","C":[{"N":"docOrder","sType":"*N","role":"select","line":"122","C":[{"N":"slash","role":"select","simple":"1","sType":"*N","C":[{"N":"treat","as":"N","diag":"13|0|XTTE0510|","C":[{"N":"dot"}]},{"N":"slash","op":"/","sType":"*N","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"124","sType":"*N","C":[{"N":"docOrder","sType":"*N","role":"select","line":"124","C":[{"N":"docOrder","sType":"*N","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}h1"},{"N":"axis","name":"following-sibling","nodeTest":"*N"}]}]}]}]}]}]},{"N":"fn","name":"exists","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"128","C":[{"N":"axis","name":"child","nodeTest":"*NE"}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"130","sType":"1","C":[{"N":"dot","sType":"1","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"130"}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]}]},{"N":"templateRule","rank":"10","prec":"0","seq":"5","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"80","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"docauthor","prio":"0","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "},{"N":"empty","sType":"0 ","role":"action"}]},{"N":"templateRule","rank":"11","prec":"0","seq":"4","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"52","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"doctitle","prio":"0","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}doctitle","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}doctitle","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}doctitle","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"nextMatch","sType":"* ","line":"53"},{"N":"let","var":"Q{}responsibilityStatement","slot":"0","sType":"* ","line":"55","C":[{"N":"check","card":"?","sType":"?AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}responsibilityStatement\"","role":"select","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}responsibilityStatement\"","role":"select","C":[{"N":"check","card":"?","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}responsibilityStatement\"","role":"select","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}responsibilityStatement\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"docOrder","sType":"*NA nQ{}content","role":"select","line":"55","C":[{"N":"docOrder","sType":"*NA nQ{}content","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}name"},{"N":"str","val":"nlbbib:responsibilityStatement"}]}]}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}content"}]}]}]}]}]}]}]}]},{"N":"choose","sType":"* ","type":"item()*","line":"56","C":[{"N":"varRef","name":"Q{}responsibilityStatement","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"57"},{"N":"elem","name":"docauthor","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor ","nsuri":"http://www.daisy.org/z3986/2005/dtbook/","namespaces":"","line":"58","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"59","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"varRef","sType":"*","name":"Q{}responsibilityStatement","slot":"0","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"59"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]},{"N":"true"},{"N":"let","var":"Q{}authors","slot":"1","sType":"* ","line":"63","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"docOrder","sType":"*NA nQ{}content","role":"select","line":"63","C":[{"N":"docOrder","sType":"*NA nQ{}content","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"compareToString","op":"eq","val":"dc:creator","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","C":[{"N":"fn","name":"lower-case","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||lower-case","C":[{"N":"check","card":"?","diag":"0|0||lower-case","C":[{"N":"attVal","name":"Q{}name"}]}]}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}content"}]}]}]}]}]}]},{"N":"let","var":"Q{}authors","slot":"2","sType":"* ","line":"64","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"choose","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"64","C":[{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}authors","slot":"1"}]},{"N":"varRef","name":"Q{}authors","slot":"1"},{"N":"true"},{"N":"slash","op":"/","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"compareToString","op":"eq","val":"dc:contributor.editor","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","C":[{"N":"fn","name":"lower-case","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||lower-case","C":[{"N":"check","card":"?","diag":"0|0||lower-case","C":[{"N":"attVal","name":"Q{}name"}]}]}]}]}]}]}]},{"N":"fn","name":"concat","C":[{"N":"fn","name":"string-join","C":[{"N":"fn","name":"reverse","C":[{"N":"fn","name":"tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"attVal","name":"Q{}content"}]}]},{"N":"str","val":" *, *"}]}]},{"N":"str","val":" "}]},{"N":"str","val":" (red.)"}]}]}]}]}]}]},{"N":"let","var":"Q{}authors","slot":"3","sType":"* ","line":"65","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"choose","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"65","C":[{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}authors","slot":"2"}]},{"N":"varRef","name":"Q{}authors","slot":"2"},{"N":"true"},{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"compareToString","op":"eq","val":"dc:publisher.original","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","C":[{"N":"fn","name":"lower-case","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||lower-case","C":[{"N":"check","card":"?","diag":"0|0||lower-case","C":[{"N":"attVal","name":"Q{}name"}]}]}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}content"}]}]}]}]}]}]},{"N":"let","var":"Q{}authors","slot":"4","sType":"* ","line":"66","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}authors\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"choose","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"66","C":[{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}authors","slot":"3"}]},{"N":"varRef","name":"Q{}authors","slot":"3"},{"N":"true"},{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE"}]},{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"compareToString","op":"eq","val":"dc:publisher","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","C":[{"N":"fn","name":"lower-case","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||lower-case","C":[{"N":"check","card":"?","diag":"0|0||lower-case","C":[{"N":"attVal","name":"Q{}name"}]}]}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}content"}]}]}]}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"forEach","sType":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor ","line":"67","C":[{"N":"varRef","name":"Q{}authors","slot":"4","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"67"},{"N":"elem","name":"docauthor","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor ","nsuri":"http://www.daisy.org/z3986/2005/dtbook/","namespaces":"","line":"68","C":[{"N":"valueOf","flags":"l","sType":"1NT ","line":"69","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"fn","name":"string-join","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"69","C":[{"N":"fn","name":"reverse","C":[{"N":"fn","name":"tokenize","C":[{"N":"treat","as":"AS","diag":"0|0||tokenize","C":[{"N":"check","card":"?","diag":"0|0||tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||tokenize","C":[{"N":"atomSing","diag":"0|0||tokenize","card":"?","C":[{"N":"dot"}]}]}]}]},{"N":"str","val":" *, *"}]}]},{"N":"str","val":" "}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"choose","sType":"* ","line":"72","C":[{"N":"compareToInt","op":"eq","val":"0","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"72","C":[{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}authors","slot":"4"}]}]},{"N":"sequence","sType":"* ","C":[{"N":"message","sType":"0 ","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","C":[{"N":"literal","count":"1","role":"select","sType":"?AS ","C":[{"N":"str","val":"Fant ingen forfattere (dc:creator) eller redaktører (dc:contributor.editor).","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"73"}]},{"N":"str","sType":"1AS ","val":"false","role":"terminate"},{"N":"str","sType":"1AS ","val":"Q{http://www.w3.org/2005/xqt-errors}XTMM9000","role":"error"}]},{"N":"copyOf","flags":"c","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/ ex=http://ns.saxonica.com/xslt/export","line":"74","sType":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor","C":[{"N":"axis","name":"following-sibling","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor","sType":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}docauthor","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","role":"select","line":"74"}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","rank":"12","prec":"0","seq":"1","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"18","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"head","prio":"0","matches":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# "},{"N":"copy","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}head ","flags":"cin","role":"action","line":"19","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"20","mode":"#unnamed","bSlot":"0","C":[{"N":"docOrder","sType":"*N u[NT,NP,NC,NE]","role":"select","line":"20","C":[{"N":"union","op":"|","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"axis","name":"attribute","nodeTest":"*NA"},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]},{"N":"choose","sType":"? ","line":"21","C":[{"N":"fn","name":"not","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"21","C":[{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}name"},{"N":"str","val":"dc:Date"}]}]}]},{"N":"elem","name":"meta","sType":"1NE nQ{http://www.daisy.org/z3986/2005/dtbook/}meta ","nsuri":"http://www.daisy.org/z3986/2005/dtbook/","namespaces":"","line":"22","C":[{"N":"sequence","sType":"*NA ","C":[{"N":"att","name":"name","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"dc:Date"}]},{"N":"att","name":"content","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"?AS","C":[{"N":"first","sType":"?AS","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","line":"22","C":[{"N":"fn","name":"tokenize","C":[{"N":"fn","name":"string","C":[{"N":"fn","name":"current-date"}]},{"N":"str","val":"\\+"}]}]}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]}]},{"N":"templateRule","rank":"13","prec":"0","seq":"0","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"12","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"@* | node()","prio":"-0.5","matches":"NA","C":[{"N":"p.nodeTest","role":"match","test":"NA","sType":"1NA"},{"N":"copy","sType":"1NA ","flags":"cin","role":"action","line":"13","C":[{"N":"applyT","sType":"* ","line":"14","mode":"#unnamed","bSlot":"0","C":[{"N":"docOrder","sType":"*N u[NT,NP,NC,NE]","role":"select","line":"14","C":[{"N":"union","op":"|","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"axis","name":"attribute","nodeTest":"*NA"},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]},{"N":"templateRule","rank":"14","prec":"0","seq":"0","ns":"xml=~ xsl=~ xs=~ f=# =http://www.daisy.org/z3986/2005/dtbook/","minImp":"0","flags":"s","slots":"200","baseUri":"file://C:/Users/gaute/Documents/Prosjekter/service-saxon/test/xslt/dtbook-cleanup.xsl","line":"12","module":"dtbook-cleanup.xsl","xpath-default-namespace":"http://www.daisy.org/z3986/2005/dtbook/","expand-text":"false","match":"@* | node()","prio":"-0.5","matches":"N u[NT,NP,NC,NE]","C":[{"N":"p.nodeTest","role":"match","test":"N u[NT,NP,NC,NE]","sType":"1N u[NT,NP,NC,NE]"},{"N":"copy","sType":"1N u[1NT ,1NP ,1NC ,1NE ] ","flags":"cin","role":"action","line":"13","C":[{"N":"applyT","sType":"* ","line":"14","mode":"#unnamed","bSlot":"0","C":[{"N":"docOrder","sType":"*N u[NT,NP,NC,NE]","role":"select","line":"14","C":[{"N":"union","op":"|","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ xs=~ f=# ","C":[{"N":"axis","name":"attribute","nodeTest":"*NA"},{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]"}]}]}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"20"},{"N":"property","name":"indent","value":"no"},{"N":"property","name":"doctype-public","value":"-//NISO//DTD dtbook 2005-3//EN"}]},{"N":"decimalFormat"}],"Σ":"dd83c981"}